"use strict";(self.webpackChunkkube_project_github_io=self.webpackChunkkube_project_github_io||[]).push([[721],{771:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var o=t(4848),s=t(8453);const r={sidebar_position:3},i="Spin up the environment",c={id:"kubernetes-basics/spin-up-the-environment",title:"Spin up the environment",description:"First, clone the actual Kube Project repository here//github.com/kube-project/kube-project.",source:"@site/docs/kubernetes-basics/spin-up-the-environment.mdx",sourceDirName:"kubernetes-basics",slug:"/kubernetes-basics/spin-up-the-environment",permalink:"/docs/kubernetes-basics/spin-up-the-environment",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Create a Local Cluster",permalink:"/docs/kubernetes-basics/create-a-local-cluster"},next:{title:"What am I seeing?",permalink:"/docs/kubernetes-basics/what-am-i-seeing"}},a={},l=[];function h(e){const n={a:"a",code:"code",h1:"h1",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"spin-up-the-environment",children:"Spin up the environment"}),"\n",(0,o.jsxs)(n.p,{children:["First, clone the actual Kube Project repository here: ",(0,o.jsx)(n.a,{href:"https://github.com/kube-project/kube-project",children:"https://github.com/kube-project/kube-project"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"This repository contains all of the services as a monorepo."}),"\n",(0,o.jsx)(n.p,{children:"Let's run the cluster now. This project uses a kind configuration to create a specific cluster."}),"\n",(0,o.jsx)(n.p,{children:"Here is the configuration:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"# three node (two workers) cluster config\nkind: Cluster\nname: kube-facerecog-test-cluster\napiVersion: kind.x-k8s.io/v1alpha4\nnodes:\n  - role: control-plane\n  - role: worker\n    extraMounts:\n      - hostPath: /Users/skarlso/temp/known_people\n        containerPath: /known_people\n      - hostPath: /Users/skarlso/temp/unknown_people\n        containerPath: /unknown_people\n  - role: worker\n    extraMounts:\n      - hostPath: /Users/skarlso/temp/known_people\n        containerPath: /known_people\n      - hostPath: /Users/skarlso/temp/unknown_people\n        containerPath: /unknown_people\n"})}),"\n",(0,o.jsx)(n.p,{children:"The design here is that the face-recognition part has access to a volumn which contains\nthe images it needs to work with. These images are either on an NFS volumn, or some other\nstorage media. For testing purposes, these images will be located on your own machine."}),"\n",(0,o.jsxs)(n.p,{children:["For this to work, Kind needs access to these folders. Please edit the ",(0,o.jsx)(n.code,{children:"hostPath"})," locations\nto a folder on your disk that you'll need to create."]}),"\n",(0,o.jsxs)(n.p,{children:["One for ",(0,o.jsx)(n.code,{children:"known_people"})," and the other for ",(0,o.jsx)(n.code,{children:"unknown_people"}),". The ",(0,o.jsx)(n.code,{children:"unknown_people"})," will contain\nnew images that the face recognition service will need to compute."]}),"\n",(0,o.jsx)(n.p,{children:"Let's spin up the cluster. To use kind with a config, run the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"kind create cluster --config kind_test_cluster.yaml\n"})}),"\n",(0,o.jsx)(n.p,{children:"Once executed, we should see the kind pods running and the nodes healthy."}),"\n",(0,o.jsxs)(n.p,{children:["We can now run ",(0,o.jsx)(n.code,{children:"tilt up"})," to start all of the services."]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var o=t(6540);const s={},r=o.createContext(s);function i(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);